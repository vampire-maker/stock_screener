#!/usr/bin/env python3
"""
A股股票全市场代码生成器
基于A股代码规律生成更全面的股票列表
"""

def get_a_stock_universe():
    """
    生成A股市场更全面的股票代码列表
    包括主板、中小板、创业板的主要股票
    """

    # 上交所主板 (600xxx, 601xxx, 603xxx, 605xxx)
    sh_main_board = []

    # 600000-600999 (上交所主板)
    for i in range(0, 1000):
        code = f"600{i:03d}"
        # 排除一些明显无效的代码段
        if i not in [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]:
            sh_main_board.append(code)

    # 601000-601999 (上交所主板)
    for i in range(0, 1000):
        code = f"601{i:03d}"
        if i not in [0, 10, 20, 30, 40, 50, 60, 70, 80, 90]:
            sh_main_board.append(code)

    # 603000-603999 (上交所主板)
    for i in range(0, 500):
        code = f"603{i:03d}"
        sh_main_board.append(code)

    # 605000-605999 (上交所主板/科创板)
    for i in range(0, 100):
        code = f"605{i:03d}"
        sh_main_board.append(code)

    # 深交所主板 (000xxx, 001xxx)
    sz_main_board = []

    # 000000-000999 (深交所主板/中小板)
    for i in range(1, 1000):
        code = f"000{i:03d}"
        # 过滤一些明显不存在的代码段
        if i % 10 != 0 or i in [1, 2, 5, 6, 7, 8, 9, 10, 16, 17, 19, 20, 21, 22, 25, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 42, 43, 44, 45, 46, 48, 49, 50, 51, 52, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99]:
            sz_main_board.append(code)

    # 001000-001999 (深交所主板)
    for i in range(0, 1000):
        code = f"001{i:03d}"
        if i < 300:  # 001000-001299是有效范围
            sz_main_board.append(code)

    # 002xxx (深交所中小板)
    sz_small_board = []
    for i in range(0, 1000):
        code = f"002{i:03d}"
        if i % 5 == 0 or i < 500:  # 优先选择002000-002499，以及其他一些
            sz_small_board.append(code)

    # 300xxx (创业板)
    gem_board = []
    for i in range(0, 1000):
        code = f"300{i:03d}"
        if i < 900:  # 300000-300899是有效范围
            gem_board.append(code)

    # 合并所有股票代码，并进行初步筛选
    all_stocks = sh_main_board + sz_main_board + sz_small_board + gem_board

    # 为了避免API调用过多，先选择一些活跃的股票代码
    # 基于常见的活跃股票代码模式
    active_stocks = []

    # 添加知名蓝筹股
    blue_chips = [
        '000001', '000002', '000858', '000895', '000960',
        '002415', '002594', '002714', '002304', '002142',
        '300015', '300033', '300059', '300122', '300142',
        '300144', '300166', '300221', '300620', '300750',
        '600000', '600036', '600276', '600519', '600887',
        '600900', '601318', '601398', '601857', '601888'
    ]

    # 添加科技股
    tech_stocks = [
        '000063', '000166', '002230', '002241', '002352',
        '002410', '002475', '002736', '003016', '003816',
        '300024', '300037', '300045', '300058', '300059',
        '300070', '300073', '300088', '300098', '300115',
        '300136', '300142', '300144', '300168', '300170',
        '300174', '300180', '300182', '300183', '300188',
        '300197', '300207', '300209', '300212', '300223',
        '300226', '300232', '300236', '300247', '300251',
        '300253', '300256', '300257', '300267', '300270',
        '300271', '300274', '300285', '300291', '300296',
        '300298', '300300', '300306', '300308', '300310',
        '300311', '300315', '300316', '300322', '300324',
        '300326', '300327', '300333', '300342', '300347',
        '300363', '300366', '300367', '300369', '300373',
        '300376', '300377', '300379', '300383', '300390',
        '300401', '300408', '300413', '300418', '300421',
        '300433', '300434', '300443', '300447', '300450',
        '300451', '300456', '300457', '300458', '300461',
        '300462', '300463', '300466', '300467', '300468',
        '300470', '300473', '300474', '300476', '300477',
        '300479', '300480', '300481', '300482', '300484',
        '300485', '300487', '300489', '300492', '300496',
        '300498', '300500', '300502', '300506', '300508',
        '300510', '300511', '300512', '300513', '300516',
        '300517', '300518', '300519', '300520', '300521',
        '300522', '300523', '300525', '300526', '300527',
        '300528', '300529', '300530', '300531', '300532',
        '300533', '300534', '300535', '300537', '300539',
        '300540', '300541', '300542', '300543', '300545',
        '300546', '300547', '300548', '300549', '300550',
        '300551', '300552', '300553', '300554', '300555',
        '300556', '300557', '300558', '300559', '300560',
        '300562', '300563', '300564', '300565', '300566',
        '300567', '300568', '300569', '300570', '300571',
        '300572', '300573', '300574', '300575', '300576',
        '300577', '300578', '300579', '300580', '300581',
        '300582', '300584', '300585', '300586', '300587',
        '300588', '300589', '300590', '300591', '300592',
        '300593', '300594', '300595', '300596', '300597',
        '300598', '300599', '300600', '300601', '300602',
        '300603', '300604', '300605', '300606', '300607',
        '300608', '300609', '300610', '300611', '300612',
        '300613', '300614', '300615', '300616', '300617',
        '300618', '300619', '300620', '300621', '300622',
        '300623', '300624', '300625', '300626', '300627',
        '300628', '300629', '300630', '300631', '300632',
        '300633', '300634', '300635', '300636', '300637',
        '300638', '300639', '300640', '300641', '300642',
        '300643', '300644', '300645', '300646', '300647',
        '300648', '300649', '300650', '300651', '300652',
        '300653', '300654', '300655', '300656', '300657',
        '300658', '300659', '300660', '300661', '300662',
        '300663', '300664', '300665', '300666', '300667',
        '300668', '300669', '300670', '300671', '300672',
        '300673', '300674', '300675', '300676', '300677',
        '300678', '300679', '300680', '300681', '300682',
        '300683', '300684', '300685', '300686', '300687',
        '300688', '300689', '300690', '300691', '300692',
        '300693', '300694', '300695', '300696', '300697',
        '300698', '300699', '300700', '300701', '300702',
        '300703', '300704', '300705', '300706', '300707',
        '300708', '300709', '300710', '300711', '300712',
        '300713', '300714', '300715', '300716', '300717',
        '300718', '300719', '300720', '300721', '300722',
        '300723', '300724', '300725', '300726', '300727',
        '300728', '300729', '300730', '300731', '300732',
        '300733', '300734', '300735', '300736', '300737',
        '300738', '300739', '300740', '300741', '300742',
        '300743', '300744', '300745', '300746', '300747',
        '300748', '300749', '300750', '300751', '300752',
        '300753', '300754', '300755', '300756', '300757',
        '300758', '300759', '300760', '300761', '300762',
        '300763', '300764', '300765', '300766', '300767',
        '300768', '300769', '300770', '300771', '300772',
        '300773', '300774', '300775', '300776', '300777',
        '300778', '300779', '300780', '300781', '300782',
        '300783', '300784', '300785', '300786', '300787',
        '300788', '300789', '300790', '300791', '300792',
        '300793', '300794', '300795', '300796', '300797',
        '300798', '300799', '300800', '300801', '300802',
        '300803', '300804', '300805', '300806', '300807',
        '300808', '300809', '300810', '300811', '300812',
        '300813', '300814', '300815', '300816', '300817',
        '300818', '300819', '300820', '300821', '300822',
        '300823', '300824', '300825', '300826', '300827',
        '300828', '300829', '300830', '300831', '300832',
        '300833', '300834', '300835', '300836', '300837',
        '300838', '300839', '300840', '300841', '300842',
        '300843', '300844', '300845', '300846', '300847',
        '300848', '300849', '300850', '300851', '300852',
        '300853', '300854', '300855', '300856', '300857',
        '300858', '300859', '300860', '300861', '300862',
        '300863', '300864', '300865', '300866', '300867',
        '300868', '300869', '300870', '300871', '300872',
        '300873', '300874', '300875', '300876', '300877',
        '300878', '300879', '300880', '300881', '300882',
        '300883', '300884', '300885', '300886', '300887',
        '300888', '300889', '300890', '300891', '300892',
        '300893', '300894', '300895', '300896', '300897',
        '300898', '300899'
    ]

    # 金融股
    financial_stocks = [
        '000001', '000002', '000563', '000629', '000686', '000728',
        '000783', '001979', '002142', '002500', '002547', '002674',
        '600000', '600015', '600016', '600030', '600031', '600036',
        '600109', '600111', '600268', '600276', '600291', '600299',
        '600316', '600325', '600332', '600345', '600358', '600369',
        '600383', '600415', '600516', '600519', '600547', '600549',
        '600570', '600577', '600578', '600585', '600588', '600606',
        '600615', '600627', '600628', '600629', '600637', '600643',
        '600649', '600653', '600688', '600695', '600703', '600705',
        '600736', '600739', '600751', '600761', '600770', '600775',
        '600783', '600787', '600795', '600808', '600816', '600823',
        '600827', '600837', '600858', '600862', '600867', '600869',
        '600875', '600887', '600893', '600901', '600909', '600917',
        '600919', '600926', '600928', '600936', '600945', '600947',
        '600958', '600959', '600962', '600963', '600967', '600970',
        '600985', '600990', '600997', '600998', '600999'
    ]

    # 消费股
    consumer_stocks = [
        '000858', '000895', '000963', '001914', '002304', '002416',
        '002572', '600079', '600096', '600132', '600159', '600197',
        '600239', '600257', '600271', '600276', '600298', '600300',
        '600336', '600340', '600352', '600362', '600378', '600390',
        '600438', '600488', '600507', '600516', '600519', '600535',
        '600546', '600547', '600559', '600570', '600578', '600588',
        '600597', '600600', '600602', '600609', '600612', '600618',
        '600629', '600636', '600645', '600660', '600663', '600690',
        '600692', '600696', '600702', '600703', '600729', '600735',
        '600741', '600752', '600759', '600761', '600770', '600771',
        '600773', '600779', '600782', '600783', '600795', '600802',
        '600809', '600811', '600823', '600836', '600837', '600845',
        '600867', '600872', '600873', '600875', '600882', '600883',
        '600884', '600887', '600891', '600893', '600898', '600900',
        '600903', '600909', '600916', '600919', '600926', '600928',
        '600933', '600936', '600945', '600946', '600950', '600958',
        '600959', '600962', '600963', '600965', '600966', '600967',
        '600969', '600970', '600971', '600973', '600976', '600979',
        '600986', '600987', '600989', '600990', '600993', '600996',
        '600998', '600999'
    ]

    # 合并并去重
    expanded_stocks = list(set(blue_chips + tech_stocks + financial_stocks + consumer_stocks))

    # 为了API调用的可行性，选择前200只活跃股票
    final_stock_list = expanded_stocks[:200]

    print(f"📊 生成股票代码列表：{len(final_stock_list)}只股票")
    return final_stock_list

def get_market_capitalization_stocks():
    """按市值分层的股票代码列表"""

    # 大盘蓝筹 (>1000亿)
    large_cap = [
        '600519',  # 贵州茅台
        '000858',  # 五粮液
        '601318',  # 中国平安
        '601398',  # 工商银行
        '601857',  # 中国石油
        '601888',  # 中国中免
        '600036',  # 招商银行
        '000002',  # 万科A
        '600276',  # 恒瑞医药
        '300750',  # 宁德时代
        '002594',  # 比亚迪
        '600900',  # 长江电力
        '601288',  # 农业银行
        '601398',  # 工商银行
        '601939',  # 建设银行
        '601166',  # 兴业银行
        '600030',  # 中信证券
        '600016',  # 民生银行
        '000001',  # 平安银行
        '002415',  # 海康威视
    ]

    # 中盘股 (100-1000亿)
    mid_cap = [
        '300015',  # 爱尔眼科
        '300033',  # 同花顺
        '300059',  # 东方财富
        '002230',  # 科大讯飞
        '300122',  # 智飞生物
        '002142',  # 宁波银行
        '300760',  # 迈瑞医疗
        '002714',  # 牧原股份
        '300433',  # 蓝思科技
        '300142',  # 沃森生物
        '300676',  # 华大基因
        '002304',  # 洋河股份
        '300271',  # 联影医疗
        '300568',  # 星星科技
        '300274',  # 阳光电源
        '300026',  # 红日药业
        '002475',  # 立讯精密
        '300413',  # 芒果超媒
        '300124',  # 汇川技术
    ]

    # 小盘股 (<100亿)
    small_cap = [
        '300830',  # 金现代
        '301311',  # 昆船智能
        '603600',  # 永艺股份
        '300221',  # 银禧科技
        '300166',  # 东方国信
        '300620',  # 光库科技
        '300144',  # 宋城演艺
        '002304',  # 洋河股份
        '300122',  # 智飞生物
        '300142',  # 沃森生物
    ]

    return {
        'large_cap': large_cap,
        'mid_cap': mid_cap,
        'small_cap': small_cap,
        'all': large_cap + mid_cap + small_cap
    }

if __name__ == "__main__":
    # 测试股票代码生成
    stocks = get_a_stock_universe()
    print(f"生成的股票代码列表: {len(stocks)}只")
    print(f"前10只股票: {stocks[:10]}")

    # 测试市值分层
    market_caps = get_market_capitalization_stocks()
    print(f"\n市值分层:")
    print(f"大盘股: {len(market_caps['large_cap'])}只")
    print(f"中盘股: {len(market_caps['mid_cap'])}只")
    print(f"小盘股: {len(market_caps['small_cap'])}只")
    print(f"总计: {len(market_caps['all'])}只")